BEGIN {
FS = "\""

char["„Ç¨"] = "$05"
char["„ÇÆ"] = "$06"
char["„Ç≤"] = "$08"
char["„Ç¥"] = "$09"
char["„Ç∏"] = "$0B"
char["„ÉÄ"] = "$0F"
char["„Éâ"] = "$13"
char["„Éê"] = "$19"
char["„Éì"] = "$1A"
char["„Éñ"] = "$1B"
char["„Éú"] = "$1C"
char["„Åå"] = "$26"
char["„Åé"] = "$27"
char["„Åê"] = "$28"
char["„Åí"] = "$29"
char["„Åî"] = "$2A"
char["„Åñ"] = "$2B"
char["„Åò"] = "$2C"
char["„Åö"] = "$2D"
char["„Åú"] = "$2E"
char["„Åû"] = "$2F"
char["„Å†"] = "$30"
char["„Å¢"] = "$31"
char["„Å•"] = "$32"
char["„Åß"] = "$33"
char["„Å©"] = "$34"
char["„Å∞"] = "$3A"
char["„Å≥"] = "$3B"
char["„Å∂"] = "$3C"
char["„Åπ"] = "$3D"
char["„Åº"] = "$3E"
char["„Éë"] = "$40"
char["„Éî"] = "$41"
char["„Éó"] = "$42"
char["„Éù"] = "$43"
char["„Å±"] = "$44"
char["„Å¥"] = "$45"
char["„Å∑"] = "$46"
char["„Å∫"] = "$47"
char["„ÅΩ"] = "$48"
char["„Ç¢"] = "$80"
char["„Ç§"] = "$81"
char["„Ç¶"] = "$82"
char["„Ç®"] = "$83"
char["„Ç©"] = "$84"
char["„Ç´"] = "$85"
char["„Ç≠"] = "$86"
char["„ÇØ"] = "$87"
char["„Ç±"] = "$88"
char["„Ç≥"] = "$89"
char["„Çµ"] = "$8A"
char["„Ç∑"] = "$8B"
char["„Çπ"] = "$8C"
char["„Çª"] = "$8D"
char["„ÇΩ"] = "$8E"
char["„Çø"] = "$8F"
char["„ÉÅ"] = "$90"
char["„ÉÑ"] = "$91"
char["„ÉÜ"] = "$92"
char["„Éà"] = "$93"
char["„Éä"] = "$94"
char["„Éã"] = "$95"
char["„Éå"] = "$96"
char["„Éç"] = "$97"
char["„Éé"] = "$98"
char["„Éè"] = "$99"
char["„Éí"] = "$9A"
char["„Éï"] = "$9B"
char["„Éõ"] = "$9C"
char["„Éû"] = "$9D"
char["„Éü"] = "$9E"
char["„É†"] = "$9F"
char["„É°"] = "$A0"
char["„É¢"] = "$A1"
char["„É§"] = "$A2"
char["„É¶"] = "$A3"
char["„É®"] = "$A4"
char["„É©"] = "$A5"
char["„É´"] = "$A6"
char["„É¨"] = "$A7"
char["„É≠"] = "$A8"
char["„ÉØ"] = "$A9"
char["„É≤"] = "$AA"
char["„É≥"] = "$AB"
char["„ÉÉ"] = "$AC"
char["„É£"] = "$AD"
char["„É•"] = "$AE"
char["„Éß"] = "$AF"
char["„Ç£"] = "$B0"
char["„ÅÇ"] = "$B1"
char["„ÅÑ"] = "$B2"
char["„ÅÜ"] = "$B3"
char["„Åà"] = "$B4"
char["„Åä"] = "$B5"
char["„Åã"] = "$B6"
char["„Åç"] = "$B7"
char["„Åè"] = "$B8"
char["„Åë"] = "$B9"
char["„Åì"] = "$BA"
char["„Åï"] = "$BB"
char["„Åó"] = "$BC"
char["„Åô"] = "$BD"
char["„Åõ"] = "$BE"
char["„Åù"] = "$BF"
char["„Åü"] = "$C0"
char["„Å°"] = "$C1"
char["„Å§"] = "$C2"
char["„Å¶"] = "$C3"
char["„Å®"] = "$C4"
char["„Å™"] = "$C5"
char["„Å´"] = "$C6"
char["„Å¨"] = "$C7"
char["„Å≠"] = "$C8"
char["„ÅÆ"] = "$C9"
char["„ÅØ"] = "$CA"
char["„Å≤"] = "$CB"
char["„Åµ"] = "$CC"
char["„Å∏"] = "$CD"
char["„Åª"] = "$CE"
char["„Åæ"] = "$CF"
char["„Åø"] = "$D0"
char["„ÇÄ"] = "$D1"
char["„ÇÅ"] = "$D2"
char["„ÇÇ"] = "$D3"
char["„ÇÑ"] = "$D4"
char["„ÇÜ"] = "$D5"
char["„Çà"] = "$D6"
char["„Çâ"] = "$D7"
char["„Çä"] = "$D8"
char["„Çã"] = "$D9"
char["„Çå"] = "$DA"
char["„Çç"] = "$DB"
char["„Çè"] = "$DC"
char["„Çí"] = "$DD"
char["„Çì"] = "$DE"
char["„Å£"] = "$DF"
char["„ÇÉ"] = "$E0"
char["„ÇÖ"] = "$E1"
char["„Çá"] = "$E2"
char["„Éº"] = "$E3"


char["@"] = "$50"
char["#"] = "$54"
char["‚Ä¶"] = "$75"
char[" "] = "$7F"
char["A"] = "$80"
char["B"] = "$81"
char["C"] = "$82"
char["D"] = "$83"
char["E"] = "$84"
char["F"] = "$85"
char["G"] = "$86"
char["H"] = "$87"
char["I"] = "$88"
char["J"] = "$89"
char["K"] = "$8A"
char["L"] = "$8B"
char["M"] = "$8C"
char["N"] = "$8D"
char["O"] = "$8E"
char["P"] = "$8F"
char["Q"] = "$90"
char["R"] = "$91"
char["S"] = "$92"
char["T"] = "$93"
char["U"] = "$94"
char["V"] = "$95"
char["W"] = "$96"
char["X"] = "$97"
char["Y"] = "$98"
char["Z"] = "$99"
char["("] = "$9A"
char[")"] = "$9B"
char[":"] = "$9C"
char[";"] = "$9D"
char["["] = "$9E"
char["]"] = "$9F"
char["a"] = "$A0"
char["b"] = "$A1"
char["c"] = "$A2"
char["d"] = "$A3"
char["e"] = "$A4"
char["f"] = "$A5"
char["g"] = "$A6"
char["h"] = "$A7"
char["i"] = "$A8"
char["j"] = "$A9"
char["k"] = "$AA"
char["l"] = "$AB"
char["m"] = "$AC"
char["n"] = "$AD"
char["o"] = "$AE"
char["p"] = "$AF"
char["q"] = "$B0"
char["r"] = "$B1"
char["s"] = "$B2"
char["t"] = "$B3"
char["u"] = "$B4"
char["v"] = "$B5"
char["w"] = "$B6"
char["x"] = "$B7"
char["y"] = "$B8"
char["z"] = "$B9"
char["√©"] = "$BA"
char["'"] = "$E0"
char["-"] = "$E3"
char["?"] = "$E6"
char["!"] = "$E7"
char["."] = "$E8"
char["‚ôÇ"] = "$EF"
char["/"] = "$F3"
char[","] = "$F4"
char["‚ôÄ"] = "$F5"
char["0"] = "$F6"
char["1"] = "$F7"
char["2"] = "$F8"
char["3"] = "$F9"
char["4"] = "$FA"
char["5"] = "$FB"
char["6"] = "$FC"
char["7"] = "$FD"
char["8"] = "$FE"
char["9"] = "$FF"
}

# skip lines that actually do use ASCII in quotes
tolower($1) ~ /section/ ||
tolower($1) ~ /include/ || 
tolower($1) ~ /incbin/

!(tolower($1) ~ /section/ || tolower($1) ~ /include/ || tolower($1) ~ /incbin/) {
i = 1
ORS = ""

while (i <= NF) {
if (i % 2 == 1)
	print $(i)
else {
	f = $(i)
	while (f != "") {
		c = substr(f,1,1)
		f = substr(f,2,length(f) - 1)
		if (c > "êÄÄ") { # U+10000
			c = c substr(f,1,3)
			f = substr(f,4,length(f) - 3)
		} else if (c > "‡†Ä") { # U+0800
			c = c substr(f,1,2)
			f = substr(f,3,length(f) - 2)
		} else if (c > "¬Ä") { # U+0080
			c = c substr(f,1,1)
			f = substr(f,2,length(f) - 1)
		}
		print char[c]
		if (length(f))
			print ","
	}
}

i = i + 1
}
print "\n"
ORS = "\n"
}
